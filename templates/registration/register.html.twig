{% extends 'base.html.twig' %}
{% block title %}
    {% if edit is same as (true) %}
        {{ 'Edit user'|trans }}
    {% else %}
        {{ 'Registration'|trans }}
    {% endif %}
{% endblock %}
{% block body %}
    <div class="container">
        <br>
        {% set formErrors = registrationForm.vars.errors.form.getErrors(true) %}
        {% if formErrors | length %}
            <ul class="col-5 alert-danger">
                {% for error in formErrors %}
                    <li>
                        {{ error.message|trans }}
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    <div class="mt-3 container col-3">
        <div class="col">
            {% if edit is same as (true) %}
                <h1>
                    {{'Edit user'|trans }}
                </h1>
            {% else %}
                <h1>
                    {{ 'Create new account'|trans }}
                </h1>
            {% endif %}
        </div>
        <div class="">
            {{ form_start(registrationForm, {'attr': {'class': 'form-horizontal'}}) }}
            {{ form_label(registrationForm.firstName) }}
            <br>
            {{ form_widget(registrationForm.firstName,
                {'attr':
                    {'class': 'form-control', 'required': 'true'}
                })
            }}
            <br>
            {{ form_label(registrationForm.lastName) }}
            <br>
            {{ form_widget(registrationForm.lastName,
                {'attr':
                    {'class': 'form-control', 'required': 'true'}
                })
            }}
            <br>
            {{ form_label(registrationForm.email) }}
            <br>
            {{ form_widget(registrationForm.email,
                {'attr':
                {'class': 'form-control', 'required': 'true'}
            })
            }}
            <br>
            {{ form_label(registrationForm.preferLanguage) }}
            <br>
            {{ form_widget(registrationForm.preferLanguage,
                {'attr':
                {'class': 'form-control', 'required': 'true'}
            })
            }}
            <br>
            {{ form_label(registrationForm.plainPassword.first) }}
            <br>
            {{ form_widget(registrationForm.plainPassword.first,
                {'attr':
                    {'class': 'form-control', 'required': 'true'}
                })
            }}
            <br>
            {{ form_label(registrationForm.plainPassword.second) }}
            <br>
            {{ form_widget(registrationForm.plainPassword.second,
                {'attr':
                    {'class': 'form-control', 'required': 'true'}
                })
            }}
            <br>
            {% if edit is same as (true) %}
                <button class="btn  btn-success" type="submit">
                   {{ 'Edit'|trans }}
                </button>
            {% else %}
                <button class="btn btn-success " type="submit">
                   {{ 'Sign up'|trans }}
                </button>
                {{ form_end(registrationForm) }}
                <br>
                <button class="btn btn-info mb-5" onclick="window.location.href='/login'">
                    {{ 'Back to sign in'|trans }}
                </button>
            {% endif %}
        </div>
    </div>
{% endblock %}
